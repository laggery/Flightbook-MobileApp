<ion-header>
  <ion-toolbar color='primary'>
    <ion-title>{{ 'buttons.filter' | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form (ngSubmit)="filterElement()">
    <ion-item>
      <ion-select label="{{ 'groupname.glider' | translate }}" labelPlacement="stacked" [(ngModel)]="filter.glider.id" name="glider" okText="{{ 'buttons.done' | translate }}"
        cancelText="{{ 'buttons.clear' | translate }}" (ionCancel)="clearGLiderButton()">
        @for (glider of gliders; track glider.id) {
          <ion-select-option value="{{ glider.id }}">{{ glider.brand }} {{ glider.name }}</ion-select-option>
        }
      </ion-select>
    </ion-item>
    <ion-item id="filterFrom">
      <ion-input label="{{ 'filter.from' | translate }}" labelPlacement="stacked" value="{{ filter.from | date:'dd.MM.yyyy' }}"></ion-input>
    </ion-item>
    <ion-item id="filterTo">
      <ion-input label="{{ 'filter.to' | translate }}" labelPlacement="stacked" value="{{ filter.to | date:'dd.MM.yyyy' }}"></ion-input>
    </ion-item>
    <ion-item>
      <ion-select label="{{ 'glider.type' | translate }}" labelPlacement="stacked" [(ngModel)]="filter.gliderType" name="gliderType" okText="{{ 'buttons.done' | translate }}"
        cancelText="{{ 'buttons.cancel' | translate }}">
        <ion-select-option value="">{{ 'glider.all' | translate }}</ion-select-option>
        <ion-select-option value="0">{{ 'glider.solo' | translate }}</ion-select-option>
        <ion-select-option value="1">{{ 'glider.tandem' | translate }}</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-input label="{{ 'flight.description' | translate }}" labelPlacement="stacked" type="text" [(ngModel)]="filter.description" name="description"></ion-input>
    </ion-item>
    <ion-button type="button" (click)="clearFilter()">{{ 'buttons.clear' | translate }}</ion-button>
    <ion-button type="submit">{{ 'buttons.filter' | translate }}</ion-button>
  </form>
</ion-content>

<ion-modal class="filterDateModal dateModal" trigger='filterFrom'>
  <ng-template>
    <ion-content>
      <ion-datetime size="cover" presentation="date" [preferWheel]="true" locale="{{ language }}" [showDefaultButtons]="true"
        doneText="{{ 'buttons.done' | translate }}" cancelText="{{ 'buttons.clear' | translate }}" (ionCancel)="clearDateButton('from')" (ionChange)="changeDate('from', $event)">
      </ion-datetime>
    </ion-content>
  </ng-template>
</ion-modal>

<ion-modal class="filterDateModal dateModal" trigger='filterTo'>
  <ng-template>
    <ion-content>
        <ion-datetime size="cover" presentation="date" [preferWheel]="true" locale="{{ language }}" [showDefaultButtons]="true"
          doneText="{{ 'buttons.done' | translate }}" cancelText="{{ 'buttons.clear' | translate }}" (ionCancel)="clearDateButton('to')" (ionChange)="changeDate('to', $event)">
        </ion-datetime>
    </ion-content>
  </ng-template>
</ion-modal>